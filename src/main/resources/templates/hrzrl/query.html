<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      xmlns="http://www.w3.org/1999/xhtml">

<head>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="context-path" th:content="@{/}"/>
    <title></title>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/font-awesome/css/font-awesome.css}" rel="stylesheet"/>
    <link th:href="@{/css/animate.css}" rel="stylesheet"/>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" th:href="@{/style/modify.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/style/style.css}"/>
    <!-- <link th:href="@{/css/plugins/footable/footable.core.css}" rel="stylesheet"/> -->
    <style type="text/css">
        .boxcc{
    		overflow-x: scroll;
    	}
    	.scrolling_outer{
    		min-width: 1200px;
    	}
    	.hh{
    		cursor: pointer;
    		position: relative;
    	}
    	.hh:hover{
    	}
    	.hh:hover .th-box{
    		display: block;
    	}
    	.th-box{
    		position: absolute;
    		top: 0;
    		left: 0;
    		background: #fff;
    		display: none;
    		width: 100%;
    		height: 100%;
    	}
    	.th-box a{
    		display: inline-block;
    		float: left;
    		line-height: 47px;
    		width: 50%;
    		text-align: center;
    	}
    	.th-box a:first-child:hover{
    		background: #ccc;
    	}
    	.th-box a:last-child:hover{
    		background: #ccc;
    	}
    	#yourTableID2 tr th,#yourTableID2 tr td{
    		text-align: center;
    	}
    </style>
    <!--<style>
    .abutton{
        background: #1ab394;
        border-radius: 5px;
        color: #fff;
        font-weight: bold;
    }
    </style>-->
</head>

<body class="color">

<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
               	<div class="ibox-title">
               	 <h5 th:text="${model.names}+'数据'"></h5>
                    
                   	<input type="hidden" th:value="${model.names}" class="na"/>
                    <div class="cur" style="float:right">
                        <a th:href="@{/hrzrl/init/0}"  style="float:right;background: #18a689;">返回</a>
                    </div>
                   	<div class="cur" style="float:right">
                        <a th:href="@{/hrzrl/queryCompanysToExcel(id = ${model.uuid},zd=${zd},px=${px})}" style="background: #18a689;">导出excel</a>
                    </div>
                </div>
                <!-- <div class="ibox-title">
                	试做 数据不完整
                	<form role="form" th:action="@{/menu/init}">
                         <div class="form-group se">
                         	<input type="text" class="col-md-8" name="query" th:value="${query}" placeholder="请输入名称" />
                         	<button class="btn btn-sm btn-primary pull-right search-xin"  type="submit"><strong>点击搜索</strong></button>
                         </div>
               		</form>
                    <h5 th:text="${model.names}+'站点数据'"></h5>
                    <div class="cur" style="float:right">
                        <a th:href="@{/hrzrl/queryCompanysToExcel(id = ${model.uuid},zd=${zd},px=${px})}">导出excel</a>
                    </div>
                </div> -->
                <div class="ibox-content">
                <div class="cur" style="margin-bottom:15px;">
                   		 <input type="text" id="serch" style="padding:5px;border:1px solid #ccc;"/>
                        <a style="background: #18a689;" onclick="javascript:serch();" >搜索机组</a>
                    </div>
                    <div class="boxcc">
                        <table id="yourTableID2" width="100%" border="0" cellspacing="0" cellpadding="0">
                            <thead>
                            <tr class="ww">
                                <th>序号</th>
                                <!-- 试做 数据不完整 -->
                                <th class="h-1 hh">分公司名称列
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <!-- 试做 数据不完整 -->
                                <th class="h-1 hh">建筑物类型列
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(names = ${model.names},zd='CONVERT(hrzmc USING gbk)',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(names = ${model.names},zd='CONVERT(hrzmc USING gbk)',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <th class="h-1 hh">换热站名称
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <!-- 试做 数据不完整 -->
                                <th class="h-1 hh">当前外温列w/s
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='CONVERT(hrzmc USING gbk)',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <th class="h-2 hh">换热站面积/㎡
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzmj',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzmj',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <th class="h-3 hh">换热站热单耗/Gj/㎡
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrdh',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrdh',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <th class="h-4 hh">平均热指标列/Gj/㎡/s<!-- 之前的值为“换热站热指标” -->
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <!-- 试做 数据不完整 -->
                                <th class="h-4 hh">基准热指标列
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <!-- 试做 数据不完整 -->
                                <th class="h-4 hh">备注列
                                    <div class="th-box">
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='asc')}">↑</a>
                                        <a th:href="@{/hrzrl/queryByCompany(id = ${model.uuid},zd='hrzrzb',px='desc')}">↓</a>
                                    </div>
                                </th>
                                <!-- <th class="h-4 hh">操作</th> -->
                            </tr>
                            </thead>
                            <tbody>
                            <tr id="grid" class="gradeX" th:each="obj,s:${list}">
                                <td th:text="${s.index+1}"></td>
                                <!-- 试做 数据不完整 -->
                                <td th:text="${obj.hrzmc}">分公司名称</td>
                                <!-- 试做 数据不完整 -->
                                <td></td>
                                <td th:text="${obj.hrzmc}">机组名称</td>
                                <!-- 试做 数据不完整 -->
                                <td th:text="${#numbers.formatDecimal((obj.hrzmj == null ? '0' : obj.hrzmj), 1, 2)}">
                                </td>
                                <td th:text="${#numbers.formatDecimal((obj.hrzmj == null ? '0' : obj.hrzmj), 1, 2)}">
                                </td>
                                <td th:text="${#numbers.formatDecimal((obj.hrzrdh == null ? '0' : obj.hrzrdh), 1, 2)}">
                                </td>
                                <td th:text="${#numbers.formatDecimal((obj.hrzrzb == null ? '0' : obj.hrzrzb), 1, 2)}">
                                </td>
                                <!-- 试做 数据不完整 -->
                                <td th:text="${#numbers.formatDecimal((obj.hrzmj == null ? '0' : obj.hrzmj), 1, 2)}">
                                </td>
                                <!-- 试做 数据不完整 -->
                                <td th:text="${#numbers.formatDecimal((obj.hrzmj == null ? '0' : obj.hrzmj), 1, 2)}">
                                </td>
                                <!-- 试做 数据不完整 -->
                                <!-- <td>
	                                <div class="cur">
	                                	<a style="background: #18a689;" th:href="@{/exchange/queryOne(jzname='高管局地暖')}">查看</a>
	                                </div>
	                            </td> -->
                            </tr>
<!--                             <tr class="gradeX">
                                <td colspan="16"></td>
                            </tr> -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script th:src="@{/js/jquery-2.1.1.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
<script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>
<script th:src="@{/js/inspinia.js}"></script>
<script th:src="@{/style/jquery.freezeheader.js}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" th:src="@{/style/jquery-ui-1.7.2.custom.min.js}"></script>
<script type="text/javascript" th:src="@{/style/jquery.chromatable.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
var path = /*[[${#httpServletRequest.getScheme()
					+ "://" + #httpServletRequest.getServerName()
					+ ":" + #httpServletRequest.getServerPort()
					+ #httpServletRequest.getContextPath()}]]*/;

	$(document).ready(function(){
		$("#yourTableID2").chromatable({
			width: "100%",
			height: "100%",
			scrolling: "yes"
		});
	})
    function getTable()
    {
        var na = $('.na').val();
        //用获取table(通过其id ) 获取指定的行，列
        var mytable = document.getElementById('yourTableID2');
          var rows = mytable.rows.length;
          var colums = mytable.rows[0].cells.length;
        var col = "";
        for(var i = 1 ;i<rows;i++)
        {
            for(var ii =0;ii<colums-1;ii++)
            {
                col += mytable.rows[i].cells[ii].innerHTML+",";
            }
            col += "]";
        }
        $.ajax({
            url:"/hrzrl/queryCompanysToExcel",    //请求的url地址
            dataType:"text",   //返回格式为String
            async:true,//请求是否异步，默认为异步，这也是ajax重要特性
            data:{"table":col,"na":na},    //参数值
            type:"post",   //请求方式
            beforeSend:function(){
                //请求前的处理
            },
            success:function(req){
                //请求成功时处理
                   // window.location.href = path+"/hrzrl/queryCompanysToExcel3?fileName="+req;
            },
            complete:function(){
                //请求完成的处理
            },
            error:function(){
                //请求出错处理
            }
        });
    }

    function serch()
    {
        var v = $('#serch').val();
        var mytable = document.getElementById('yourTableID2');
          var rows = mytable.rows.length;
        for(var i = 1 ;i<rows;i++)
        {
            col = mytable.rows[i].cells[1].innerHTML;
            if(v == col)
            {
                mytable.rows[i].style.background='red';
            }
        }
    }

/*]]>*/


</script>
</body>

</html>
