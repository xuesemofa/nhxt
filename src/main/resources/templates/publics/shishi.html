<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="en"
      xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>热源实时工况信息</title>

    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/font-awesome/css/font-awesome.css}" rel="stylesheet"/>
    <link th:href="@{/css/plugins/jsTree/style.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/animate.css}" rel="stylesheet"/>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" th:href="@{/style/modify.css}" />
    <link th:href="@{/css/plugins/c3/c3.min.css}" rel="stylesheet"/>
    <style type="text/css">
			.qhye ul li{
				list-style: none;
				float: left;
				padding: 5px 15px;
				margin:0 5px;
				background: #1ab394;
				color: #fff;
				cursor: pointer;
			}
			.qh:nth-child(2){
				display:none;
			}
		</style>
</head>

<body class="color">
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5 style="font-weight: bold;">热源实时工况信息</h5>
                    <input type="hidden" class="m" value="1"/>
                    <input type="hidden" class="t" value="1"/>
                </div>
                <div class="ibox-content">
                    <div class="ibox-title qhye">
                        <ul>
                            <li onclick="clickButt(1)">一网供温/回温</li>
                            <li onclick="clickButt(2)">一网供压/回压</li>
                            <li onclick="clickButt(3)">一网供水/回水瞬时流量</li>
                            <li onclick="clickButt(4)">一网瞬时热量</li>
                            <li onclick="clickButt(5)">累计热量</li>
                            <li onclick="clickButt(6)">#1/#2机电负荷</li>
                        </ul>
                        <div class="ibox-content" style="height:500px">
                            <div class="ibox-title" style="height:500px">
                                <div id="container" style="height: 100%"></div>
                            </div>
                            <ul>
                                <li onclick="clickButt2(1)">4小时</li>
                                <li onclick="clickButt2(2)">12小时</li>
                                <li onclick="clickButt2(3)">一天</li>
                                <li onclick="clickButt2(4)">7天</li>
                                <li onclick="clickButt2(5)">30天</li>
                                <li onclick="clickButt2(6)">90天</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox float-e-margins">
                        <div class="ibox-title">
                            <h5 style="font-weight: bold;">热源实时工况信息</h5>
                        </div>
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                    <tr>
                                        <!--<th>序号</th>-->
                                        <!--<th>机组</th>-->
                                        <th>时间</th>
                                        <th>一网供温</th>
                                        <th>一网回温</th>
                                        <th>一网供压</th>
                                        <th>一网回压</th>
                                        <th>一网供水瞬时流量</th>
                                        <th>一网回水瞬时流量</th>
                                        <th>一网瞬时热量</th>
                                        <th>累计热量</th>
                                        <th>#1机电负荷</th>
                                        <th>#2机电负荷</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <!--<td th:text="${Stat.Index+1}"></td>-->
                                        <!--<td th:text="${Datas3Model.jzid}"></td>-->
                                        <td th:text="${Datas3Model.dates}"></td>
                                        <td th:text="${Datas3Model.T11}"></td>
                                        <td th:text="${Datas3Model.T12}"></td>
                                        <td th:text="${Datas3Model.P11}"></td>
                                        <td th:text="${Datas3Model.P12}"></td>
                                        <td th:text="${Datas3Model.ins_hea}"></td>
                                        <td th:text="${Datas3Model.ins_flo}"></td>
                                        <td th:text="${Datas3Model.ins}"></td>
                                        <td th:text="${Datas3Model.acc_hea}"></td>
                                        <td th:text="${Datas3Model.EL1}"></td>
                                        <td th:text="${Datas3Model.EL2}"></td>
                                    </tr>
                                    </tbody>
                                    <!--<tfoot>-->
                                    <!--<tr>-->
                                        <!--<th colspan="5">-->
                                            <!--&lt;!&ndash;//分页&ndash;&gt;-->
                                            <!--<div class="page">-->
                                                <!--<nav aria-label="Page navigation">-->
                                                    <!--<ul class="pagination">-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}" aria-label="Previous">-->
                                                                <!--<span aria-hidden="true">&laquo;</span>-->
                                                            <!--</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}">1</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}">2</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}">3</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}">4</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}">5</a>-->
                                                        <!--</li>-->
                                                        <!--<li>-->
                                                            <!--<a th:href="@{/#}" aria-label="Next">-->
                                                                <!--<span aria-hidden="true">&raquo;</span>-->
                                                            <!--</a>-->
                                                        <!--</li>-->
                                                    <!--</ul>-->
                                                <!--</nav>-->
                                            <!--</div>-->
                                        <!--</th>-->
                                    <!--</tr>-->
                                    <!--</tfoot>-->
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Mainly scripts -->
<script th:src="@{/js/jquery-2.1.1.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>
<script th:src="@{/js/plugins/metisMenu/jquery.metisMenu.js}"></script>
<script th:src="@{/js/plugins/slimscroll/jquery.slimscroll.min.js}"></script>

<!-- Custom and plugin javascript -->
<script th:src="@{/js/inspinia.js}"></script>
<script th:src="@{/style/js/js.js}" type="text/javascript" charset="utf-8"></script>
<script th:src="@{/js/plugins/pace/pace.min.js}"></script>
<script th:src="@{/js/plugins/d3/d3.min.js}"></script>
<script th:src="@{/js/plugins/c3/c3.min.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/echarts-all-3.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/ecStat.min.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/dataTool.min.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/china.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/world.js}"></script>
<script type="text/javascript" th:src="@{/style/js2/bmap.min.js}"></script>
<script th:inline="javascript">
/*<![CDATA[*/
var ids = $('#query_id').val();
var path = /*[[${#httpServletRequest.getScheme()
					+ "://" + #httpServletRequest.getServerName()
					+ ":" + #httpServletRequest.getServerPort()
					+ #httpServletRequest.getContextPath()}]]*/;
<!--一网供温回温-->
$(function(){
    forData();
});

function clickButt(obj){
    $('.m').val(obj);
    forData();
}

function clickButt2(obj){
    $('.t').val(obj);
    forData();
}

function forData(){
    var obj = $('.m').val();
    var str = $('.t').val();
    //获得后台数据
    var datas_data;
    var ywgw_data;
    var ywhw_data;
    var ywgy_data;
    var ywhy_data;
    var ywgsss_data;
    var ywhsss_data;
    var ywss_data;
    var ljrl_data;
    var jdfh_1_data;
    var jdfh_2_data;
    var title_data;
    var title_data2;

    $.ajax({
        url: path+"/ryssgk/findByFour",
        async: false,
        type: 'post',
        data:{"t":str},
        dataType: 'json',
        timeout: 1000,
        cache: false,
        success: function (req) {
            datas_data = req.datas_data;
            ywgw_data = req.ywgw_data;
            ywhw_data = req.ywhw_data;
            ywgy_data = req.ywgy_data;
            ywhy_data = req.ywhy_data;
            ywgsss_data = req.ywgsss_data;
            ywhsss_data = req.ywhsss_data;
            ywss_data = req.ywss_data;
            ljrl_data = req.ljrl_data;
            jdfh_1_data = req.jdfh_1_data;
            jdfh_2_data = req.jdfh_2_data;
            title_data = req.title_data;
            title_data2 = req.title_data2;
            title_data3 = req.title_data3;
            title_data4 = req.title_data4;
            title_data5 = req.title_data5;
            title_data6 = req.title_data6;
        },
        error: erryFunction
    });
    function erryFunction() {
        alert("数据没返回成功！");
    };

    var dom = document.getElementById("container");
    var myChart = echarts.init(dom);
    if(obj == 1)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line', 'line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '温度',
                min: 0,
                max: 200,
                interval: 10,
                axisLabel: {
                    formatter: '{value} °C'
                }
            }
        ],
        series: [
            {
                name:title_data[0] == null ? '':title_data[0],
                type:'line',
                data:ywgw_data
            },
            {
                name:title_data[1] == null ? '':title_data[1],
                type:'line',
                data:ywhw_data
            }
        ]
        };
    }
    if(obj == 2)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line', 'line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data2
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '压力',
                min: 0,
                max: 3,
                interval: 1,
                axisLabel: {
                    formatter: '{value} Mpa'
                }
            }
        ],
        series: [
            {
                name:title_data2[0] == null ? '':title_data2[0],
                type:'line',
                data:ywgy_data
            },
            {
                name:title_data2[1] == null ? '':title_data2[1],
                type:'line',
                data:ywhy_data
            }
        ]
        };
    }
    if(obj == 3)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line', 'line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data3
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '立方米/小时',
                min: 0,
                max: 12000,
                interval: 1000,
                axisLabel: {
                    formatter: '{value} m³/h'
                }
            }
        ],
        series: [
            {
                name:title_data3[0] == null ? '':title_data3[0],
                type:'line',
                data:ywgsss_data
            },
            {
                name:title_data3[1] == null ? '':title_data3[1],
                type:'line',
                data:ywhsss_data
            }
        ]
        };
    }
    if(obj == 4)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line','line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data4
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '兆焦耳/小时',
                min: 0,
                max: 1000,
                interval: 100,
                axisLabel: {
                    formatter: '{value} mj/h'
                }
            }
        ],
        series: [
            {
                name:title_data4[0] == null ? '':title_data4[0],
                type:'line',
                data:ywss_data
            }
        ]
        };
    }
    if(obj == 5)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line', 'line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data5
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '吉焦',
                min: 0,
                max: 5000000,
                interval: 500000,
                axisLabel: {
                    formatter: '{value} GJ'
                }
            }
        ],
        series: [
            {
                name:title_data5[0] == null ? '':title_data5[0],
                type:'line',
                data:ljrl_data
            }
        ]
        };
    }
    if(obj == 6)
    {
        myChart.clear();
        var option = {
        title: {
                text: "",
                subtext: ""
            },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                crossStyle: {
                    color: '#999'
                }
            }
        },
        toolbox: {
            feature: {
                magicType: {show: false, type: ['line', 'line']},
                restore: {show: false},
                saveAsImage: {show: false}
            }
        },
        legend: {
            data:title_data6
        },
        xAxis: [
            {
                type: 'category',
                data: datas_data,
                interval: 10,
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '兆瓦',
                min: 0,
                max: 350,
                interval: 30,
                axisLabel: {
                    formatter: '{value} MW'
                }
            }
        ],
        series: [
            {
                name:title_data6[0] == null ? '':title_data6[0],
                type:'line',
                data:jdfh_1_data
            },
            {
                name:title_data6[1] == null ? '':title_data6[1],
                type:'line',
                data:jdfh_2_data
            }
        ]
        };
    }
    myChart.setOption(option);
};
/*]]>*/
</script>
</body>

</html>